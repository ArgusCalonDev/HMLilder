DirectoryIndex index.php index.html index.htm index2.html

# Prevent directory listing
Options -Indexes

# Allow CORS
Header set Access-Control-Allow-Origin "*"

<IfModule mod_rewrite.c>
RewriteEngine On

# 1. PHP Redirect (prioritas tertinggi)
RewriteCond %{THE_REQUEST} \s/+(.+)\.php[\s?] [NC]
RewriteRule ^ /%1 [R=301,L]

# 2. HTML Redirect
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /.*\.html\ HTTP/
RewriteRule ^(.*)\.html$ /$1 [R=301,L]

# 3. PHP Internal (dengan !-f)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*)$ $1.php [L]

# 4. HTML Internal
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)$ $1.html [L,QSA]
</IfModule>
